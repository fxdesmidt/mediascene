/*

 Copyright (c) 2012. Adobe Systems Incorporated.
 All rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice,
 this list of conditions and the following disclaimer.
 Redistributions in binary form must reproduce the above copyright notice,
 this list of conditions and the following disclaimer in the documentation
 and/or other materials provided with the distribution.
 Neither the name of Adobe Systems Incorporated nor the names of its
 contributors may be used to endorse or promote products derived from this
 software without specific prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 POSSIBILITY OF SUCH DAMAGE.
*/
!function(t,e){function i(){}var s={version:.1,inherit:function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.prototype._super=e},ensureArray:function(){var e=[],i=arguments.length;return i>0&&(e=i>1||!t.isArray(arguments[0])?t.makeArray(arguments):arguments[0]),e},scopedFind:function(e,i,s,n){for(var s=" "+s+" ",a=[],e=t(e).find(i),i=e.length,n=t(n)[0],o=0;i>o;o++)for(var r=e[o],l=r;l;){if(l.className&&-1!==(" "+l.className+" ").indexOf(s)){l===n&&a.push(r);break}l=l.parentNode}return t(a)}};t.extend(i.prototype,{bind:function(e,i,s){return t(this).bind(e,i,s)},unbind:function(e,i){return t(this).unbind(e,i)},trigger:function(e,i){var s=t.Event(e);return t(this).trigger(s,i),s}}),s.EventDispatcher=i,e.WebPro=s}(jQuery,window,document),function(t,e){var i=1;e.ImageLoader=function(i){e.EventDispatcher.call();var s=this;this.options=t.extend({},this.defaultOptions,i),this._currentEntry=null,this._queue=[],this._isRunning=this._needsSort=!1,this._loader=new Image,this._loadFunc=function(){s._handleLoad()},this._loadErrorFunc=function(){s._handleError()},this._timeoutFunc=function(){s.trigger("wp-image-loader-timeout",this._currentEntry),s._loadNext()}},e.inherit(e.ImageLoader,e.EventDispatcher),t.extend(e.ImageLoader.prototype,{defaultOptions:{timeoutInterval:1e3},add:function(s,n){if(s){urls=e.ensureArray(s);for(var a=0;a<urls.length;a++){var o=t.extend({reqId:i++,src:urls[a],width:0,height:0,priority:50,callback:null,data:null},n);this._queue.push(o),this._needsSort=!0,this.trigger("wp-image-loader-add",o)}this._isRunning&&!this._currentEntry&&this._loadNext()}},reprioritize:function(t,e){if(!this._currentEntry||this._currentEntry.src!=t){var i;for(i=0;i<this._queue.length&&this._queue[i].src!=t;++i);0!=i&&i<this._queue.length&&(this._queue=this._queue.splice(i,e?this._queue.length-i:1).concat(this._queue))}},start:function(){this._isRunning||(this._isRunning=!0,this._loadNext(),this.trigger("wp-image-loader-start"))},stop:function(){this._isRunning&&(this._currentEntry&&this._queue.unshift(this._currentEntry),this._resetLoader(),this._isRunning=!1,this.trigger("wp-image-loader-stop"))},clearQueue:function(){var t=this._isRunning;this.stop(),this._queue.length=0,t&&this.start()},isQueueEmpty:function(){return 0==this._queue.length},_loadNext:function(){var t;this._resetLoader();var e=this._queue;if(e.length){this._needsSort&&(t=this._queue=e.sort(function(t,e){var i=t.priority-e.priority;return i?i:t.reqId-e.reqId}),e=t,this._needsSort=!1),this._currentEntry=e=e.shift();var i=this._loader;i.onload=this._loadFunc,i.onerror=this._loadErrorFunc,i.src=e.src}},_resetLoader:function(){var t=this._loader;t.onload=null,t.onerror=null,this._currentEntry=t.src=null,this._timeoutTimerId&&(clearTimeout(this._timeoutTimerId),this._timeoutTimerId=0)},_handleLoad:function(){var t=this._loader,e=this._currentEntry;e.width=t.width,e.height=t.height,e.callback&&e.callback(e.src,e.width,e.height,e.data),this.trigger("wp-image-loader-load-success",e),this._loadNext()},_handleError:function(){this.trigger("wp-image-loader-load-error",this._currentEntry),this._loadNext()}})}(jQuery,WebPro,window,document),function(t,e){function i(){e.EventDispatcher.call(this),this._initialize.apply(this,arguments)}e.inherit(i,e.EventDispatcher),t.extend(i.prototype,{defaultOptions:{},_widgetName:"Widget",_initialize:function(){var e;this.plugins=[];var i=this.trigger("before-setup");i.isDefaultPrevented()||(e=this._setUp.apply(this,arguments),this.trigger("setup")),i=this.trigger("before-init-plugins"),i.isDefaultPrevented()||(this._initializePlugins(e),this.trigger("init-plugins")),this.options=t.extend({},this.defaultOptions,e),i=this.trigger("before-extract-data"),i.isDefaultPrevented()||(this._extractData(),this.trigger("extract-data")),i=this.trigger("before-transform-markup"),i.isDefaultPrevented()||(this._transformMarkup(),this.trigger("transform-markup")),i=this.trigger("before-attach-behavior"),i.isDefaultPrevented()||(this._attachBehavior(),this.trigger("attach-behavior")),i=this.trigger("before-ready"),i.isDefaultPrevented()||(this._ready(),this.trigger("ready"))},_setUp:function(e,i){return this.$element=t(e),i},_initializePlugins:function(t){for(var t=t||{},e=(("undefined"==typeof t.useDefaultPlugins||t.useDefaultPlugins)&&this.defaultPlugins?this.defaultPlugins:[]).concat(t.plugins||[]),e=e.sort(function(t,e){return t="number"==typeof t.priority?t.priority:50,e="number"==typeof e.priority?e.priority:50,t-e}),i=0;i<e.length;i++){var s=e[i];s&&s.initialize&&s.initialize(this,t)}this.plugins=e},_extractData:function(){},_transformMarkup:function(){},_attachBehavior:function(){},_ready:function(){}}),e.Widget=i,e.widget=function(i,s,n){var a=n&&s||e.Widget,n=n||s||{},s=function(){a.apply(this,arguments),this._widgetName=i};e.inherit(s,a),t.extend(s.prototype,n),s.prototype.defaultOptions=t.extend({},a.prototype.defaultOptions,n.defaultOptions);var n=i.split("."),o=n.length;namespace=o>1&&n[0]||"Widget",i=n[o-1],e[namespace][i]=s}}(jQuery,WebPro,window,document),function(t,e){e.widget("Widget.Button",e.Widget,{defaultOptions:{hoverClass:"wp-button-hover",activeClass:"wp-button-down",disabledClass:"wp-button-disabled",disabled:!1,callback:null},_attachBehavior:function(){var e=this,i=function(s){e.mouseDown=!1,e.$element.removeClass(e.options.activeClass),!e.options.disabled&&e.options.callback&&e.options.callback.call(this,s),t(e.$element).off("mouseup",i)};this.mouseDown=!1,this.$element.on("mouseover",function(){e.options.disabled||e.$element.addClass(e.options.hoverClass+(e.mouseDown?" "+e.options.activeClass:""))}).on("mouseleave",function(){e.$element.removeClass(e.options.hoverClass+" "+e.options.activeClass),t(e.$element).off("mouseup",i)}).on("mousedown",function(){e.options.disabled||(e.mouseDown=!0,e.$element.addClass(e.options.activeClass),t(e.$element).on("mouseup",i))}),this.disabled(this.options.disabled)},disabled:function(t){return"boolean"==typeof t&&(this.options.disabled=t,this.$element[t?"addClass":"removeClass"](this.options.disabledClass)),this.options.disabled}}),t.fn.wpButton=function(t){return this.each(function(){new e.Widget.Button(this,t)}),this}}(jQuery,WebPro,window,document),function(t,e){e.widget("Widget.RadioGroup",e.Widget,{_widgetName:"radio-group",defaultOptions:{defaultIndex:0,hoverClass:"wp-radio-hover",downClass:"wp-radio-down",disabledClass:"wp-radio-disabled",checkedClass:"wp-radio-checked",disabled:!1,toggleStateEnabled:!1},_attachBehavior:function(){var t=this;this.buttons=[],this.activeElement=null,this.activeIndex=-1,this.$element.each(function(){t.buttons.push(t._addButtonBehavior(this))}),this.disabled(this.options.disabled)},_addButtonBehavior:function(t){var i=this,s=new e.Widget.Button(t,{hoverClass:this.options.hoverClass,downClass:this.options.downClass,disabledClass:this.options.disabledClass,callback:function(e){return i._handleClick(e,s,t)}});return s},_handleClick:function(t,e,i){this.options.disabled||this.checkButton(i)},_getElementIndex:function(e){return e?t.inArray(e,this.$element.get()):-1},_getElementByIndex:function(t){return t>=0?this.$element.eq(t)[0]:null},_getElement:function(t){return"number"==typeof t?this._getElementByIndex(t):t},checkButton:function(e){var e=this._getElement(e),i=this.activeElement,s=this.options.checkedClass;e!==i?(i&&t(i).removeClass(s),e&&t(e).addClass(s)):this.options.toggleStateEnabled&&e&&(t(e).removeClass(s),e=null),this.activeElement=e,this.activeIndex=this._getElementIndex(e)},disabled:function(e){return"boolean"==typeof e&&(this.disabled=e,t.each(this.buttons,function(){this.disabled(e)})),this.options.disabled}}),t.fn.wpRadioGroup=function(t){return new e.Widget.RadioGroup(this,t),this}}(jQuery,WebPro,window,document),function(t,e){e.widget("Widget.TabGroup",e.Widget.RadioGroup,{defaultOptions:{defaultIndex:0,hoverClass:"wp-tab-hover",downClass:"wp-tab-down",disabledClass:"wp-tab-disabled",checkedClass:"wp-tab-active",disabled:!1,toggleStateEnabled:!1},selectTab:function(t){this.checkButton(t)},checkButton:function(t){var e=this._getElement(t),i=this._getElementIndex(e),e={tab:e,tabIndex:i};this.trigger("wp-tab-before-select",e),this._super.prototype.checkButton.apply(this,arguments),this.trigger("wp-tab-select",e)}}),t.fn.wpTabGroup=function(t){return new e.Widget.TabGroup(this,t),this}}(jQuery,WebPro,window,document),function(t,e){e.widget("Widget.PanelGroup",e.Widget,{_widgetName:"panel-group",defaultOptions:{defaultIndex:0,panelClass:"wp-panel",activeClass:"wp-panel-active",toggleStateEnabled:!1,tabGroups:null},_setUp:function(){var t=this;return this.tabGroups=[],this._tabCallback=function(e,i){t._handleTabSelect(e,i)},this.showLock=0,this.tabDriver=null,this._super.prototype._setUp.apply(this,arguments)},_attachBehavior:function(){this.activeElement=null,this.activeIndex=-1,this.$element.addClass(this.options.panelClass);var t=this.options.defaultIndex;"number"==typeof t&&t>=0&&this.showPanel(t),this.addTabGroup(this.options.tabGroups)},_getElementIndex:function(e){return e?t.inArray(e,this.$element.get()):-1},_getElementByIndex:function(t){return this.$element.eq(t)[0]},_getElement:function(t){return"number"==typeof t?this._getElementByIndex(t):t},showPanel:function(e){if(!this.showLock){++this.showLock;var i=this._getElement(e),s=this.activeElement,n=this.options.activeClass;if(i)if(i!==s){for(e={panel:i,panelIndex:this._getElementIndex(i)},this.trigger("wp-panel-before-show",e),s&&this.hidePanel(s),t(i).addClass(n),this.activeElement=i,this.activeIndex=this._getElementIndex(i),i=this.tabGroups,s=0;s<i.length;s++)n=i[s],n!==this.tabDriver&&n.selectTab(this.activeIndex);this.trigger("wp-panel-show",e)}else this.options.toggleStateEnabled&&this.hidePanel(i);--this.showLock}},hidePanel:function(e){if(e="number"==typeof e?this.$element.eq(e)[0]:e){var i={panel:e,panelIndex:this._getElementIndex(e)};this.trigger("wp-panel-before-hide",i),t(e).removeClass(this.options.activeClass),e===this.activeElement&&(this.activeElement=null,this.activeIndex=-1),this.trigger("wp-panel-hide",i)}},_handleTabSelect:function(t,e){this.showLock||(this.tabDriver=t.target,this.showPanel(e.tabIndex),this.tabDriver=null)},addTabGroup:function(i){if(i)for(var i=e.ensureArray(i),s=i.length,n=0;s>n;n++){var a=i[n];-1===t.inArray(this.tabGroups,a)&&(this.tabGroups.push(a),a.selectTab(this.activeIndex),a.bind("wp-tab-select",this._tabCallback))}},removeTabGroup:function(i){for(var i=e.ensureArray(i),s=i.length,n=0;s>n;n++){var a=i[n];sets=this.tabGroups,loc=t.inArray(sets,a),-1!==loc&&sets.splice(loc,1)}}}),t.fn.wpPanelGroup=function(t){return new e.Widget.PanelGroup(this,t),this}}(jQuery,WebPro,window,document),function(t,e){e.widget("Widget.Disclosure",e.Widget,{defaultOptions:{widgetClassName:"wp-disclosure-panels",tabClassName:"wp-disclosure-panels-tab",tabHoverClassName:"wp-disclosure-panels-tab-hover",tabDownClassName:"wp-disclosure-panels-tab-down",panelClassName:"wp-disclosure-panels-panel",tabActiveClassName:"wp-disclosure-panels-tab-active",panelActiveClassName:"wp-disclosure-panels-panel-active",defaultIndex:0,toggleStateEnabled:!1},_attachBehavior:function(){var t=this.$element[0],i=this.options.widgetClassName,s=e.scopedFind(t,"."+this.options.tabClassName,i,t),t=e.scopedFind(t,"."+this.options.panelClassName,i,t);this.tabs=new e.Widget.TabGroup(s,{hoverClass:this.options.tabHoverClassName,downClass:this.options.tabDownClassName,checkedClass:this.options.tabActiveClassName,toggleStateEnabled:this.options.toggleStateEnabled}),this.panels=new e.Widget.PanelGroup(t,{panelClass:this.options.panelClassName,activeClass:this.options.panelActiveClassName,defaultIndex:this.options.defaultIndex,toggleStateEnabled:this.options.toggleStateEnabled}),this.panels.addTabGroup(this.tabs)}}),e.widget("Widget.TabbedPanels",e.Widget.Disclosure,{defaultOptions:{widgetClassName:"wp-tabbed-panels-panels",tabClassName:"wp-tabbed-panels-panels-tab",tabHoverClassName:"wp-tabbed-panels-panels-tab-hover",tabDownClassName:"wp-tabbed-panels-panels-tab-down",tabActiveClassName:"wp-tabbed-panels-panels-tab-active",panelClassName:"wp-tabbed-panels-panels-panel",panelActiveClassName:"wp-tabbed-panels-panels-panel-active",toggleStateEnabled:!1}}),e.widget("Widget.Accordion",e.Widget.Disclosure,{defaultOptions:{widgetClassName:"wp-accordion",tabClassName:"wp-accordion-tab",tabHoverClassName:"wp-accordion-tab-hover",tabDownClassName:"wp-accordion-tab-down",tabActiveClassName:"wp-accordion-tab-active",panelClassName:"wp-accordion-panel",panelActiveClassName:"wp-accordion-panel-active",toggleStateEnabled:!1}})}(jQuery,WebPro,window,document),function(t,e){e.Widget.Disclosure.DisplayPropertyTransitionPlugin={defaultOptions:{},initialize:function(e,i){var s=this;t.extend(i,t.extend({},s.defaultOptions,i)),e.bind("attach-behavior",function(){s._attachBehavior(e)})},_attachBehavior:function(t){var t=t.panels,e=t.$element,i=t.activeIndex;t.bind("wp-panel-show",function(t,e){e.panel.style.display="block"}),t.bind("wp-panel-hide",function(t,e){e.panel.style.display="none"}),e.each(function(t){this.style.display=t!==i?"none":"block"})}},e.Widget.Disclosure.AccordionTransitionPlugin={defaultOptions:{transitionDirection:"vertical",transitionDuration:500,dispatchTransitionEvents:!0},initialize:function(e,i){var s=this;t.extend(i,t.extend({},s.defaultOptions,i)),e.bind("attach-behavior",function(){s._attachBehavior(e)})},_attachBehavior:function(e){var i=this,s=e.panels,n=s.$element,a=s.activeIndex,o=e.options.transitionDirection,r="AccordionWidget"===e.options.widgetClassName?t(n[0]).closest("*[data-rotate]"):null;r&&r.length>0&&(e.options.marginBottom=Muse.Utils.getCSSIntValue(r,"margin-bottom"),e.options.originalHeight=r[0].scrollHeight),e.options.rotatedAccordion=r,s.bind("wp-panel-show",function(t,s){i._showPanel(e,s)}),s.bind("wp-panel-hide",function(t,s){i._hidePanel(e,s)}),n.each(function(e){e!==a&&(t(this).css("overflow","hidden"),("vertical"===o||"both"===o)&&(this.style.height="0"),("horizontal"===o||"both"===o)&&(this.style.width="0"))})},_updateMarginBottomForRotatedAccordion:function(t){t.options.rotatedAccordion.css("margin-bottom",Math.round(t.options.marginBottom-(t.options.rotatedAccordion[0].scrollHeight-t.options.originalHeight))+"px")},_transitionPanel:function(e,i,s){t("body").trigger("wp-page-height-change",i-e),(e=s.options.rotatedAccordion)&&e.length>0&&(0==s.options.originalHeight&&"undefined"!=typeof i&&(s.options.marginBottom=Muse.Utils.getCSSIntValue(e,"margin-bottom"),s.options.originalHeight=e[0].scrollHeight),this._updateMarginBottomForRotatedAccordion(s))},_showPanel:function(e,i){var s=e.options,n=s.transitionDirection,a=t(i.panel),o={},r=s.dispatchTransitionEvents,l=this,d=a.height(),h=function(t){t=parseInt(t.elem.style.height),l._transitionPanel(d,t,e),d=t};("vertical"===n||"both"===n)&&(o.height=a[0].scrollHeight+"px"),("horizontal"===n||"both"===n)&&(o.width=a[0].scrollWidth+"px"),a.stop(!0,!0).queue("animationFrameFx",t.animationFrameFx).animate(o,{duration:s.transitionDuration,progress:r?h:null,queue:"animationFrameFx",complete:function(){var t={overflow:""};("vertical"===n||"both"===n)&&(t.height="auto"),("horizontal"===n||"both"===n)&&(t.width="auto"),a.css(t),(t=e.options.rotatedAccordion)&&t.length>0&&l._updateMarginBottomForRotatedAccordion(e)}}).dequeue("animationFrameFx")},_hidePanel:function(e,i){var s=e.options,n=s.transitionDirection,a=t(i.panel),o={},r=s.dispatchTransitionEvents,l=this,d=a.height(),h=function(t){t=parseInt(t.elem.style.height),l._transitionPanel(d,t,e),d=t};("vertical"===n||"both"===n)&&(o.height="0"),("horizontal"===n||"both"===n)&&(o.width="0"),a.stop(!0,!0).queue("animationFrameFx",t.animationFrameFx).animate(o,{duration:s.transitionDuration,queue:"animationFrameFx",progress:r?h:null,complete:function(){a.css("overflow","hidden");var t=e.options.rotatedAccordion;t&&t.length>0&&l._updateMarginBottomForRotatedAccordion(e)}}).dequeue("animationFrameFx")}}}(jQuery,WebPro,window,document),function(t,i){i.widget("Widget.SlideShowBase",i.Widget,{_widgetName:"slideshow-base",defaultOptions:{displayInterval:6e3,autoPlay:!1,loop:!0,playOnce:!1},_setUp:function(){var t=this;return this._ssTimer=0,this._ssTimerTriggered=!1,this._ssTimerCallback=function(){t._ssTimerTriggered=!0,t.next(),t._ssTimerTriggered=!1},i.Widget.prototype._setUp.apply(this,arguments)},_ready:function(){this.options.autoPlay&&this.play()},play:function(t){e=this.trigger("wp-slideshow-before-play"),e.isDefaultPrevented()||(this._startTimer(!1,t),this.trigger("wp-slideshow-play"))},stop:function(){e=this.trigger("wp-slideshow-before-stop"),e.isDefaultPrevented()||(this._stopTimer(),this.trigger("wp-slideshow-stop"))},isPlaying:function(){return 0!==this._ssTimer},_startTimer:function(t,e){this._stopTimer();var i=e?0:this.options.displayInterval;t&&(i+=this.options.transitionDuration),this._ssTimer=setTimeout(this._ssTimerCallback,i)},_stopTimer:function(){this._ssTimer&&clearTimeout(this._ssTimer),this._ssTimer=0},_executeCall:function(t,i){e=this.trigger("wp-slideshow-before-"+t),e.isDefaultPrevented()||(this["_"+t].apply(this,i)&&this.stop(),this.isPlaying()&&this._startTimer(!0),this.trigger("wp-slideshow-"+t))},first:function(){return this._executeCall("first",arguments)},last:function(){return this._executeCall("last",arguments)},previous:function(){return this._executeCall("previous",arguments)},next:function(){return this._executeCall("next",arguments)},goTo:function(){return this._executeCall("goTo",arguments)},close:function(){return this._executeCall("close",arguments)},_first:function(){},_last:function(){},_previous:function(){},_next:function(){},_goTo:function(){},_close:function(){}})}(jQuery,WebPro,window,document),function(t,e){e.widget("Widget.ContentSlideShow",e.Widget.SlideShowBase,{_widgetName:"content-slideshow",defaultOptions:{slideshowClassName:"wp-slideshow",clipClassName:"wp-slideshow-clip",viewClassName:"wp-slideshow-view",slideClassName:"wp-slideshow-slide",slideLinkClassName:"wp-slideshow-slide-link",firstBtnClassName:"wp-slideshow-first-btn",lastBtnClassName:"wp-slideshow-last-btn",prevBtnClassName:"wp-slideshow-prev-btn",nextBtnClassName:"wp-slideshow-next-btn",playBtnClassName:"wp-slideshow-play-btn",stopBtnClassName:"wp-slideshow-stop-btn",closeBtnClassName:"wp-slideshow-close-btn",playingClassName:"wp-slideshow-playing"},_findWidgetElements:function(t){var i=this.$element[0];return e.scopedFind(i,t,this.options.slideshowClassName,i)},_attachBtnHandler:function(t,e){var i=this;this["$"+e+"Btn"]=this._findWidgetElements("."+t).bind("click",function(t){i[e](),t.preventDefault()})},_getAjaxSrcForImage:function(t){return t.data("src")},_reprioritizeImageLoadingIfRequired:function(e){!this._isLoaded(e)&&this._cssilLoader&&!this._cssilLoader.isQueueEmpty()&&(e=t(this.slides.$element[e]),this._cssilLoader.reprioritize(this._getAjaxSrcForImage(e.is("img")?e:e.find("img")),this.isPlaying()))},_attachBehavior:function(){var t=this,i=this.options;this._super.prototype._attachBehavior.call(this),this._panelShowCallback=function(){t._ssTimerTriggered||t.isPlaying()&&t._startTimer(!1)},this.$element.addClass(i.slideshowClassName);var s=this._findWidgetElements("."+i.slideClassName),n=this._findWidgetElements("."+i.slideLinkClassName),a="click"===i.event&&"mouseout_click"===i.deactivationEvent;this.slides=new e.Widget.PanelGroup(s,{defaultIndex:i.defaultIndex||0,toggleStateEnabled:a}),this.slides.bind("wp-panel-show",this._panelShowCallback),this.tabs=null,n.length&&(this.tabs=new e.Widget.TabGroup(n,{defaultIndex:i.defaultIndex||0,toggleStateEnabled:a}),this.slides.addTabGroup(this.tabs)),this.slides.bind("wp-panel-before-show",function(e,i){t._reprioritizeImageLoadingIfRequired(i.panelIndex)}),this._attachBtnHandler(i.firstBtnClassName,"first"),this._attachBtnHandler(i.lastBtnClassName,"last"),this._attachBtnHandler(i.prevBtnClassName,"previous"),this._attachBtnHandler(i.nextBtnClassName,"next"),this._attachBtnHandler(i.playBtnClassName,"play"),this._attachBtnHandler(i.stopBtnClassName,"stop"),this._attachBtnHandler(i.closeBtnClassName,"close"),this.bind("wp-slideshow-play",function(){this.$element.addClass(i.playingClassName)}),this.bind("wp-slideshow-stop",function(){this.$element.removeClass(i.playingClassName)})},_first:function(){this.slides.showPanel(0)},_last:function(){var t=this.slides;t.showPanel(t.$element.length-1)},_previous:function(){var t=this.slides,e=t.$element.length,i=t.activeIndex,e=(1>i?e:i)-1;this.options.loop||0!=i?t.showPanel(e):this.isPlaying()&&this.stop()},_next:function(){var t=this.slides,e=t.activeIndex,i=(e+1)%t.$element.length;this.options.loop||0!=i?this.options.playOnce&&0==i&&this.isPlaying()?this.stop():(!this.isPlaying()||this._isLoaded(e)&&this._isLoaded(i))&&t.showPanel(i):this.isPlaying()&&this.stop()},_goTo:function(){var t=this.slides;t.showPanel.apply(t,arguments)},_close:function(){var t=this.slides;t.hidePanel(t.activeElement)},_isLoaded:function(e){return this._csspIsImageSlideShow&&(e=t(this.slides.$element[e]),e=e.is("img")?e:e.find("img"),e.length>0&&(e.hasClass(this.options.imageIncludeClassName)||!e[0].complete))?!1:!0}})}(jQuery,WebPro,window,document),function(t,e,i,s,n){e.Widget.ContentSlideShow.fadingTransitionPlugin={defaultOptions:{transitionDuration:500},initialize:function(e,i){var s=this;t.extend(i,t.extend({},s.defaultOptions,i)),e.bind("attach-behavior",function(){s.attachBehavior(e)})},attachBehavior:function(e){var a=this,o=e.slides,r=o.$element,l=o.activeIndex,d=e._findWidgetElements("."+e.options.viewClassName);o.bind("wp-panel-show",function(i,s){a._showElement(e,t(s.panel)),"stack"===e.options.contentLayout_runtime&&a._showElement(e,e.$closeBtn)}).bind("wp-panel-hide",function(i,s){a._hideElement(e,t(s.panel))}),"stack"===e.options.contentLayout_runtime&&e.bind("wp-slideshow-close",function(){a._hideElement(e,e.$closeBtn)});for(var h=0;h<r.length;h++)h!==l&&(r[h].style.display="none");if("fullWidth"===e.options.elastic){var u=t(i),c=t(s.body),p=function(i){i===n&&(i=Math.max(u.width(),parseInt(c.css("min-width")))),"lightbox"!==e.options.contentLayout_runtime&&d.css("left",d.position().left-d.offset().left),d.width(i),a._showElement(e,t(o.activeElement))};for(p(),h=0;h<r.length;h++){var f=t(r[h]);f.width("100%"),f.addClass("borderbox")}"lightbox"===e.options.contentLayout_runtime?e._fstpPositionSlides=p:u.on("orientationchange resize",function(){p()})}if(-1===l&&"stack"===e.options.contentLayout_runtime&&e.$closeBtn.hide(),Muse.Browser.Features.Touch&&"touchstart"==Muse.Browser.Features.Touch.Start&&e.options.enableSwipe===!0){var m=e.options.transitionDuration;e._ftpSwipeNoInterrupt=!1,r.each(function(){var i=t(this);i.data("opacity",i.css("opacity"));var s=Muse.Utils.getCanvasDirection(i,"horizontal"),n="horizontal"===s.dir,o=s.reverse;i.swipe({triggerOnTouchEnd:!0,allowPageScroll:n?"vertical":"horizontal",threshold:75,swipeStatus:function(t,i,s,l){e.stop(),"move"!=i||(!n||"left"!=s&&"right"!=s)&&(n||"up"!=s&&"down"!=s)?"cancel"==i?a._scrollTo(e,e.slides.activeIndex,0,m):"end"==i&&(t=e.slides.activeIndex,i=-1,n&&("right"==s&&!o||"left"==s&&o)||!n&&("down"==s&&!o||"up"==s&&o)?i=0>t-1?r.length-1:t-1:(n&&("left"==s&&!o||"right"==s&&o)||!n&&("up"==s&&!o||"down"==s&&o))&&(i=t+1>r.length-1?0:t+1),-1!=i&&a._scrollTo(e,i,0,m)):a._scrollTo(e,-1,l*(!o&&("left"==s||"up"==s)||o&&("right"==s||"down"==s)?1:-1),0)}})})}},_showElement:function(t,e){var i=!1,s=function(){i||(i=!0,e.show().css("opacity",""))},n=setTimeout(s,t.options.transitionDuration+10);e.stop(!1,!0).fadeIn(t.options.transitionDuration,function(){clearTimeout(n),s()})},_hideElement:function(t,e){var i=!1,s=function(){i||(i=!0,e.hide().css("opacity",""))},n=setTimeout(s,t.options.transitionDuration+10);e.stop(!1,!0).fadeOut(t.options.transitionDuration,function(){clearTimeout(n),s()})},_scrollTo:function(e,i,s,n){if(!e._ftpSwipeNoInterrupt){var a=e.slides.$element,o=e.slides.activeIndex,r=-1==i;-1==i&&(i=0>s?0>o-1?a.length-1:o-1:o+1>a.length-1?0:o+1);var l=t(a[o]),d=t(a[i]);if(!r&&0==s||o==i){e._ftpSwipeNoInterrupt=!0;var h=0,u=!1,c=function(){u||(u=!0,d.show().css("opacity",""),i!=o&&e.slides.showPanel(i),++h!=a.length)||(e._ftpSwipeNoInterrupt=!1)};if(d.css("opacity")!=d.data("opacity")){var p=setTimeout(c,n+10);d.stop(!1,!0).animate({opacity:d.data("opacity")},n,function(){clearTimeout(p),c()})}else c();a.each(function(s){var o,r=t(this),l=!1,d=function(){l||(l=!0,r.hide().css("opacity",""),++h!=a.length)||(e._ftpSwipeNoInterrupt=!1)};s!=i&&("none"!=r.css("display")&&0!=r.css("opacity")?(o=setTimeout(d,n+10),r.stop(!1,!0).animate({opacity:0},n,function(){clearTimeout(o),d()})):d())})}else s=Math.abs(s),r=l.width(),s>r&&(s=r),s=d.data("opacity")*(s/r),r=l.data("opacity")*(1-s),l.stop(!1,!0).animate({opacity:r},n),d.stop(!1,!0).show().animate({opacity:s},n)}}},e.Widget.ContentSlideShow.filmstripTransitionPlugin={defaultOptions:{transitionDuration:500,transitionStyle:"horizontal"},initialize:function(e,i){var s=this;t.extend(i,t.extend({},s.defaultOptions,i)),e.bind("attach-behavior",function(){s.attachBehavior(e)})},attachBehavior:function(e){var a=this,o=t(i),r=t(s.body),l=function(){return"fullWidth"===d.elastic?Math.max(o.width(),parseInt(r.css("min-width"))):p.width()},d=e.options,h="horizontal"===d.transitionStyle,u=e.slides,c=u.$element,p=e._findWidgetElements("."+d.clipClassName),f=e._findWidgetElements("."+d.viewClassName),m=l(),g=p.height(),v={top:"0",left:"0"},w=p.css("position");"absolute"!==w&&"fixed"!==w&&"fullScreen"!==d.elastic&&p.css("position","relative"),"absolute"!==f.css("position")&&(v.position="relative"),e._fstp$Clip=p,e._fstp$View=f,e._fstpStyleProp=h?"left":"top",e._fstpStylePropZero=h?"top":"left",u.bind("wp-panel-show",function(t,i){a._goToSlide(e,i.panel,d.transitionDuration),"stack"===e.options.contentLayout_runtime&&e.$closeBtn.stop(!0).fadeIn(d.transitionDuration)}),"stack"===e.options.contentLayout_runtime&&e.bind("wp-slideshow-close",function(){p.css({opacity:.99}).stop(!0).animate({opacity:0},{queue:!1,duration:d.transitionDuration,complete:function(){v[e._fstpStyleProp]=(h?p.width():p.height())+"px",v[e._fstpStylePropZero]="0",f.css(v),p.css({opacity:""})}}),e.$closeBtn.stop(!0).fadeOut(d.transitionDuration)}),e._fstpRequestType=null,e.bind("wp-slideshow-before-previous wp-slideshow-before-next",function(t){e._fstpRequestType=t.type.replace(/.*-/,""),e._fstpOldActiveIndex=e.slides.activeIndex}).bind("wp-slideshow-previous wp-slideshow-next",function(){e._fstpRequestType=null,e._fstpOldActiveIndex=-1});var _=function(t,i){(t===n||i===n)&&(t=l(),i=p.height()),"fullWidth"===d.elastic&&(i=p.height(),p.width(t),"lightbox"!==d.contentLayout_runtime&&p.css("left",p.position().left-p.offset().left),f.width(t));for(var s=0,o=h?t:i,r=e._fstpStyleProp,m=e._fstpStylePropZero,g=0;g<c.length;g++){var v=c[g].style;v[m]="0",v[r]=s+"px",v.margin="0",v.position="absolute",s+=o}return a._goToSlide(e,u.activeElement,0),s},w=_();if("fullWidth"===d.elastic)for(var b=0;b<c.length;b++){var y=t(c[b]);y.width("100%"),y.addClass("borderbox")}"off"!==d.elastic?"lightbox"===d.contentLayout_runtime?e._fstpPositionSlides=_:o.on("orientationchange resize",function(){_()}):(v[h?"width":"height"]=w+"px",v[h?"height":"width"]=(h?g:m)+"px"),u.activeElement||(v[e._fstpStyleProp]=(h?m:g)+"px",v[e._fstpStylePropZero]="0","stack"===e.options.contentLayout_runtime&&e.$closeBtn.hide()),v.overflow="visible",f.css(v),a._goToSlide(e,u.activeElement,d.transitionDuration)},_goToSlide:function(e,i,s){if(e){var n=t(i),a=e._fstp$View,o=e._fstpStyleProp,r="left"===o?"offsetLeft":"offsetTop",l="left"===o?"offsetWidth":"offsetHeight",d=i?-i[r]:e._fstp$Clip[0][l],h={};h[o]=d+"px";var u=e._fstpRequestType,c=e._fstpOldActiveIndex;if(u&&-1!==c){var p=e.slides.activeIndex,f=e.slides.$element.length-1;if(p!==c){var m=0;"previous"===u&&0===c&&p===f?m=-i[l]:"next"===u&&c===f&&0===p&&(e=e.slides.$element[c],m=e[r]+e[l]),m&&(h[o]=-m+"px",n.css(o,m+"px"))}}a.stop(!1,!0).animate(h,s,function(){m&&(n.css(o,-d+"px"),a.css(o,d+"px"))})}}},e.Widget.ContentSlideShow.alignPartsToPagePlugin={defaultOptions:{alignPartToPageClassName:"wp-slideshow-align-part-to-page"},initialize:function(e,i){var s=this;t.extend(i,t.extend({},s.defaultOptions,i)),e.bind("attach-behavior",function(){s.attachBehavior(e)})},attachBehavior:function(e){if("fullWidth"===e.options.elastic&&e.$element.hasClass("align_parts_to_page")&&"fixed"===e.$element.css("position")&&"lightbox"!==e.options.contentLayout_runtime){var s=t(i),n=t("#page"),a=e.options,o=function(){var i=n.offset().left+"px";t("."+a.alignPartToPageClassName,e.$element).each(function(){t(this).css("margin-left",i)})};e.$element.children().each(function(){var e=t(this);0<t("."+a.viewClassName,e).length||e.addClass(a.alignPartToPageClassName)}),o(),s.on("orientationchange resize",function(){o()})}}},e.Widget.ContentSlideShow.swipeTransitionPlugin={defaultOptions:{transitionDuration:500,transitionStyle:"horizontal"},initialize:function(e,i){var s=this;t.extend(i,t.extend({},s.defaultOptions,i)),e.bind("attach-behavior",function(){s.attachBehavior(e)})},attachBehavior:function(e){var a=this,o=t(i),r=t(s.body),l=function(){return"fullWidth"===d.elastic?Math.max(o.width(),parseInt(r.css("min-width"))):p.width()},d=e.options,h="horizontal"===d.transitionStyle,u=e.slides,c=u.$element,p=e._findWidgetElements("."+d.clipClassName),f=e._findWidgetElements("."+d.viewClassName),m=l(),g=p.height(),v=function(t,e){return(t===n||e===n)&&(t=l(),e=p.height()),h?t:e},w=v();viewProps={top:"0",left:"0"},"absolute"!==p.css("position")&&"fullScreen"!==d.elastic&&p.css("position","relative"),"absolute"!==f.css("position")&&(viewProps.position="relative"),e._fstp$Clip=p,e._fstp$View=f,e._fstpStyleProp=h?"left":"top",e._fstpStylePropZero=h?"top":"left",u.bind("wp-panel-show",function(){var t=e.slides.activeIndex*v(),i=e.options.transitionDuration;0==t&&0==e.slides.activeIndex&&!d.shuffle&&e.isPlaying()&&(i=0),a._scrollTo(e,t,i),"stack"===e.options.contentLayout_runtime&&e.$closeBtn.stop(!0).fadeIn(i)}),"stack"===e.options.contentLayout_runtime&&e.bind("wp-slideshow-close",function(){p.css({opacity:.99}).stop(!0).animate({opacity:0},{queue:!1,duration:d.transitionDuration,complete:function(){a._scrollTo(e,-v(),0),p.css({opacity:""})}}),e.$closeBtn.stop(!0).fadeOut(e.options.transitionDuration)}),e._fstpRequestType=null,e.bind("wp-slideshow-before-previous wp-slideshow-before-next",function(t){e._fstpRequestType=t.type.replace(/.*-/,""),e._fstpOldActiveIndex=e.slides.activeIndex}).bind("wp-slideshow-previous wp-slideshow-next",function(){e._fstpRequestType=null,e._fstpOldActiveIndex=-1});var _=function(t,i){(t===n||i===n)&&(t=l(),i=p.height()),"fullWidth"===d.elastic&&(i=p.height(),p.width(t),"lightbox"!==d.contentLayout_runtime&&p.css("left",p.position().left-p.offset().left),f.width(t));for(var s=0,o=h?t:i,r=e._fstpStyleProp,m=e._fstpStylePropZero,g=0;g<c.length;g++){var v=c[g].style;v[m]="0",v[r]=s+"px",v.margin="0",v.position="absolute",s+=o}return f.css(h?"width":"height",s),a._scrollTo(e,u.activeIndex*o,0),s},b=_();if("fullWidth"===d.elastic)for(var y=0;y<c.length;y++){var C=t(c[y]);C.width("100%"),C.addClass("borderbox")}"off"!==d.elastic?d.lightboxEnabled_runtime?e._fstpPositionSlides=_:o.on("orientationchange resize",function(){_()}):(viewProps[h?"width":"height"]=b+"px",viewProps[h?"height":"width"]=(h?g:m)+"px"),viewProps.overflow="visible",f.css(viewProps);var m=Muse.Utils.getCanvasDirection(f,d.transitionStyle),x="horizontal"===m.dir,P=m.reverse,I=e.options.transitionDuration;f.swipe({triggerOnTouchEnd:!0,allowPageScroll:x?"vertical":"horizontal",threshold:75,swipeStatus:function(t,i,s,n){e.stop(),w=v(),"move"!=i||(!x||"left"!=s&&"right"!=s)&&(x||"up"!=s&&"down"!=s)?"cancel"==i?(s=w*e.slides.activeIndex,a._scrollTo(e,s,I)):"end"==i&&(t=-1,x&&("right"==s&&!P||"left"==s&&P)||!x&&("down"==s&&!P||"up"==s&&P)?t=Math.max(e.slides.activeIndex-1,0):(x&&("left"==s&&!P||"right"==s&&P)||!x&&("up"==s&&!P||"down"==s&&P))&&(t=Math.min(e.slides.activeIndex+1,f.children().length-1)),-1!=t&&(s=w*t,a._scrollTo(e,s,I),t!=e.slides.activeIndex&&e.slides.showPanel(t))):(s=w*e.slides.activeIndex+n*(!P&&("left"==s||"up"==s)||P&&("right"==s||"down"==s)?1:-1),a._scrollTo(e,s,0))}}),u.activeElement?(m=u.activeIndex*w,a._scrollTo(e,m,0)):(a._scrollTo(e,-w,0),"stack"===e.options.contentLayout_runtime&&e.$closeBtn.hide())},_scrollTo:function(t,e,i){var s,n=Muse.Browser.Features.checkCSSFeature("transition-duration"),a=Muse.Browser.Features.checkCSSFeature("transform");if(n!==!1&&a!==!1){var o=t._fstp$View.get(0);o.style[(n===!0?"":"-"+n.toLowerCase()+"-")+"transition-duration"]=(i/1e3).toFixed(1)+"s",e=-e,s=(i="horizontal"===t.options.transitionStyle)?e:0,
t=s,e=i?0:e,a=(a===!0?"":"-"+a.toLowerCase()+"-")+"transform",i="translate3d("+t+"px, "+e+"px, 0px)",n=o.style[a],o.style[a]=i,o.style[a]===n&&n!==i&&(o.style[a]="translate("+t+"px, "+e+"px)")}}},e.Widget.ContentSlideShow.slideImageIncludePlugin={defaultOptions:{imageIncludeClassName:"wp-slideshow-slide-image-include",slideLoadingClassName:"wp-slideshow-slide-loading"},initialize:function(i,s){var n=this;t.extend(s,t.extend({},n.defaultOptions,s)),i._cssilLoader=new e.ImageLoader,i.bind("attach-behavior",function(){n._attachBehavior(i)})},_attachBehavior:function(t){for(var e=this,i=t._cssilLoader,s=t._findWidgetElements("."+t.options.slideClassName),n=s.length,a="."+t.options.imageIncludeClassName,o=t.options.slideLoadingClassName,r=function(i,s,n,a){e._handleImageLoad(t,i,s,n,a)},l=0;n>l;l++){var d=s.eq(t._shuffleArray?t._shuffleArray[l]:l),h=d.is("img")?d:d.find(a),u=h[0];if(u){var c=t._getAjaxSrcForImage(h)||u.href;c&&(h={width:h.data("width"),height:h.data("height"),$ele:h,$slide:d},u.style.visibility="hidden",i.add(c,{callback:r,data:h}),d.addClass(o))}}t._cssilLoader.start()},_handleImageLoad:function(t,e,i,s,n){var a=n.$ele,o=a[0];o.src=e,"off"!==t.options.elastic?(a.data("imageWidth",i),a.data("imageHeight",s),t._csspPositionImage(o,t.options.heroFitting,t.options.elastic,i,s)):(o.width=n.width||i,o.height=n.height||s),o.style.visibility="",a.removeClass(t.options.imageIncludeClassName),n.$slide.removeClass(t.options.slideLoadingClassName),t.isPlaying()&&t.slides.$element[t.slides.activeIndex]==n.$slide[0]&&t._startTimer(!1)}},e.Widget.ContentSlideShow.shufflePlayPlugin={defaultOptions:{randomDefaultIndex:!0},initialize:function(e,i){var s=this;t.extend(i,t.extend({},s.defaultOptions,i)),e._shuffleArray=[],e._shuffleNextDict={},e._realNext=e._next,e._next=function(){s._handleNext(e)},e._shufflePlayCount=1,e.bind("before-attach-behavior",function(){s._reshuffle(e),i.randomDefaultIndex&&"undefined"==typeof i.defaultIndex&&(e.options.defaultIndex=e._shuffleArray[0])})},_fisherYatesArrayShuffle:function(t){if(t&&t.length)for(var e=t.length;--e;){var i=Math.floor(Math.random()*(e+1)),s=t[i];t[i]=t[e],t[e]=s}},_reshuffle:function(t){var e=t._shuffleArray,i={},s=t.slides?t.slides.$element.length:t._findWidgetElements("."+t.options.slideClassName).length;if(e.length!==s)for(var n=e.length=0;s>n;n++)e[n]=n;for(this._fisherYatesArrayShuffle(e),n=0;s>n;n++)i[e[n]]=e[(n+1)%s];t._shuffleNextDict=i,t._shufflePlayCount=1},_handleNext:function(t){if(t.isPlaying()){var e=t.slides.activeIndex,i=t._shuffleNextDict[e]||0;t._isLoaded(e)&&t._isLoaded(i)&&(t._goTo(i),++t._shufflePlayCount>=t.slides.$element.length&&(this._reshuffle(t),(!t.options.loop||t.options.playOnce)&&t.stop()))}else t._realNext()}}}(jQuery,WebPro,window,document),function(t,e,i){e.widget("Widget.Form",e.Widget,{_widgetName:"form",defaultOptions:{validationEvent:"blur",errorStateSensitivity:"low",ajaxSubmit:!0,fieldWrapperClass:"field",formErrorClass:"form-error",formSubmittedClass:"form-submitted",formDeliveredClass:"form-delivered",focusClass:"focus",notEmptyClass:"not-empty",emptyClass:"empty",validClass:"valid",invalidClass:"invalid",requiredClass:"required"},validationTypes:{"always-valid":/.*/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,alpha:/^[A-z\s]+$/,numeric:/^[0-9]+$/,phone:/^([0-9])?(\s)?(\([0-9]{3}\)|[0-9]{3}(\-)?)(\s)?[0-9]{3}(\s|\-)?[0-9]{4}(\s|\sext|\sx)?(\s)?[0-9]*$/,captcha:function(t){return t.data("captchaValid")},recaptcha:function(){if("undefined"==typeof Recaptcha)return!1;var t=Recaptcha.get_response();return t&&0<t.length},checkbox:function(){return!0},time:function(t){var t=t.find("input, textarea"),e=t.val().replace(/[^0-9:APM]/g,"");if(-1==e.indexOf(":")||1!=e.match(/:/).length)return!1;var i=e.split(":"),s=parseInt(i[0]),i=parseInt(i[1]);return 0>s||s>24?!0:0>i||i>59?!0:(t.val(e),!0)}},_transformMarkup:function(){var e=this;e.hasCAPTCHA=!1,e.hasReCAPTCHA=!1,this.$element.find("."+this.options.fieldWrapperClass).each(function(){var i=t(this);switch(i.attr("data-type")){case"captcha":e.hasCAPTCHA=!0,i.find('input[name="CaptchaV2"]').remove(),i.find('input[name="muse_CaptchaV2"]').attr("name","CaptchaV2");break;case"recaptcha":e.hasReCAPTCHA=!0}})},_extractData:function(){this.event=this.options.validationEvent,this.errorSensitivity=this.options.errorStateSensitivity,this.classNames={focus:this.options.focusClass,blur:this.options.emptyClass,keydown:this.options.notEmptyClass}},_attachBehavior:function(){var e=this;switch(this.$element.find("input, textarea").each(function(){var i=t(this);""!=i.val()&&i.removeClass(e.options.emptyClass)}),this.$element.find("."+this.options.fieldWrapperClass).each(function(){var i=t(this);"captcha"==i.attr("data-type")&&(i.data("captchaValid",!1),i.find('input[name="CaptchaV2"]').keyup(function(){var s=t(this).val(),n=i.find('input[name="CaptchaHV2"]').val();e._validateCaptcha(n,s,function(t){i.data("captchaValid",t),i.data("error-state")&&"high"==e.errorSensitivity&&e._validate(i)})})),""!=i.find("input, textarea").val()&&i.addClass(e.classNames.keydown)}),this.$element.find("input, textarea").bind("focus blur keydown change propertychange",function(i){var s=e.classNames[i.type],n=e.classNames.focus,a=e.classNames.keydown,o=e.classNames.blur,r=t(this),l=r.closest("."+e.options.fieldWrapperClass);switch(i.type){case"focus":l.addClass(s).removeClass(o);break;case"blur":l.removeClass(n),""==r.val()&&l.addClass(s).removeClass(a);break;case"keydown":l.addClass(s).removeClass(o);break;case"change":case"propertychange":""!=r.val()?l.addClass(a).removeClass(o):l.addClass(o).removeClass(a)}}),this.event){case"blur":case"keyup":this.$element.find("."+this.options.fieldWrapperClass+" input, ."+this.options.fieldWrapperClass+" textarea").bind(this.event,function(){e._validate(t(this).closest("."+e.options.fieldWrapperClass))});case"submit":this.$element.submit(function(i){var s=!0,n=e.$element.find("."+e.options.fieldWrapperClass).length-1;e.$element.find("."+e.options.fieldWrapperClass).each(function(a){(s=e._validate(t(this))?s:!1)&&a==n&&e.options.ajaxSubmit&&(i.preventDefault(),e._submitForm()),s||i.preventDefault()})})}},_validateCaptcha:function(e,i,s){6!=i.length?s(!1):t.get("/ValidateCaptcha.ashx",{key:e,answer:i},function(t){s("true"==t)})},_validateReCaptcha:function(e,i){t.get("/ValidateCaptcha.ashx",{key:Recaptcha.get_challenge(),answer:Recaptcha.get_response(),imageVerificationType:"recaptcha"},function(t){"true"==t?e():i()})},_submitForm:function(){var e=this,i=t("#ReCaptchaAnswer",e.$element),s=t("#ReCaptchaChallenge",e.$element);e.hasReCAPTCHA&&1==i.length&&1==s.length?(i.val(Recaptcha.get_response()),s.val(Recaptcha.get_challenge()),e._validateReCaptcha(function(){e._submitFormInternal()},function(){t("."+e.options.fieldWrapperClass,e.$element).each(function(){var i=t(this);"recaptcha"==i.attr("data-type")&&e._switchState("invalid",i)}),Recaptcha.reload()})):e._submitFormInternal()},_submitFormInternal:function(){var e=this,s=this.options.formSubmittedClass,n=this.options.formDeliveredClass,a=this.options.formErrorClass,o=s+" "+n+" "+a,r=this.$element.find("input[type=submit], button");t.ajax({url:this.$element.attr("action"),type:"post",data:this.$element.serialize(),beforeSend:function(){e.$element.removeClass(o),e.$element.addClass(s),e.$element.find("."+e.options.fieldWrapperClass).removeClass(e.options.focusClass),r.attr("disabled","disabled")},complete:function(o){o&&(o.status>=400||o.responseText&&o.responseText.indexOf("<?php")>=0)&&alert("Form PHP script is missing from web server, or PHP is not configured correctly on your web hosting provider. Check if the form PHP script has been uploaded correctly, then contact your hosting provider about PHP configuration."),e.$element.removeClass(s);var l=null;if(o&&o.responseText)try{l=jQuery.parseJSON(o.responseText),l=l.FormProcessV2Response||l.FormResponse||l.MusePHPFormResponse||l}catch(d){}if(l&&l.success){if(e.$element.addClass(n),l.redirect)return void(i.location.href=l.redirect);e.$element[0].reset(),e.hasCAPTCHA&&e.$element.find("input:not([type=submit]), textarea").each(function(){t(this).attr("disabled","disabled")})}else if(o=e._getFieldsWithError(l))for(l=0;l<o.length;l++)e._switchState("invalid",o[l]);else e.$element.addClass(a);e.hasCAPTCHA||r.removeAttr("disabled"),e.hasReCAPTCHA&&Recaptcha.reload()}})},_getFieldsWithError:function(e){if(!(e&&e.error&&e.error.fields&&e.error.fields.length))return null;for(var i=[],s=0;s<e.error.fields.length;s++){var n=t('[name="'+e.error.fields[s].field+'"]',this.$element).parents("."+this.options.fieldWrapperClass);1==n.length&&i.push(n)}return i},_validate:function(t){var e=t.attr("data-type")||"always-valid",i=t.find("input, textarea"),s=this.validationTypes[e],e="true"===t.attr("data-required"),n="checkbox"==i.attr("type")?"undefined"==typeof i.attr("checked"):""==i.val(),i=s instanceof RegExp?Boolean(i.val().match(s)):s(t);return e&&n?this._switchState("required",t):i?this._switchState("valid",t):this._switchState("invalid",t)},_switchState:function(t,e){function i(){r._validate(e)}var s=e.attr("data-type"),n=this.options.validClass,a=this.options.invalidClass,o=this.options.requiredClass;if(e.removeClass(n+" "+a+" "+o),"required"==t||"invalid"==t){if("invalid"==t?e.addClass(a):e.addClass(o),"recaptcha"!=s&&"low"!=this.errorSensitivity){var r=this,s="high"==this.errorSensitivity?"keyup":"blur";e.data("error-state")||(e.data("error-state",!0),e.find("input, textarea").bind(s,i))}return!1}return e.data("error-state")&&("high"==this.errorSensitivity?"keyup"!=this.event&&e.data("error-state",!1).find("input, textarea").unbind("keyup",i):"medium"==this.errorSensitivity&&"blur"!=this.event&&e.data("error-state",!1).find("input, textarea").unbind("blur",i)),e.addClass(n),!0}}),t.fn.wpForm=function(t){return new e.Widget.Form(this,t),this}}(jQuery,WebPro,window,document),function(){if("undefined"!=typeof Muse&&"undefined"!=typeof Muse.assets){var t=function(t,e){for(var i=0,s=t.length;s>i;i++)if(t[i]==e)return i;return-1}(Muse.assets.required,"webpro.js");if(-1!=t){Muse.assets.required.splice(t,1);for(var t=document.getElementsByTagName("meta"),e=0,i=t.length;i>e;e++){var s=t[e];if("generator"==s.getAttribute("name")){"2014.1.1.276"!=s.getAttribute("content")&&Muse.assets.outOfDate.push("webpro.js");break}}}}}();